
const products = [
        {
          id: 1,
          name: "Lakme Xtraordin-airy Mattereal Mousse Foundation",
          price: 386,
          description: "Contains SPF Feather-light texture Stays up to 16 hours Keeps your skin healthy and protected Available in 6 different shades to suit all skin tones Great for special occasions",
          image: "https://m.media-amazon.com/images/I/21-KBKl0OiL._SX300_SY300_QL70_FMwebp_.jpg",
          category: "beauty"
        },
        {
          id: 2,
          name: "L'OREAL PROFESSIONNEL PARIS",
          price: 1405,
          description: " Pro-Keratin And Kukui Nut Oil For Rebellious Frizzy Hair, Serie Expert, 300M",
          image: "https://m.media-amazon.com/images/I/61PVAMILcUL._AC_UL320_.jpg",
          category: "beauty"
        },
        {
          id: 3,
          name: "Swiss Beauty Bold Matt Lip Liner",
          price: 1299,
          description: " Long-lasting |Matte Finish | Non-drying | Shade-11, 1.6gm",
          image: "https://m.media-amazon.com/images/I/51OPmh-yi6L._SX522_.jpg",
          category: "beauty"
        },
        {
          id: 4,
          name: "THE SKIN HOUSE since 1979 Wrinkle Supreme Serum",
          price: 900,
          description: "50Ml(1.69 Fl. Oz.) Fermented Red Ginseng Skin Rejuvenating Face Serum | Korean Skin Care, K-Beauty",
          image: "https://m.media-amazon.com/images/I/51p6KUYOhqL._SX300_SY300_QL70_FMwebp_.jpg",
          category: "beauty"
        },
        {
          id: 5,
          name: "Plum 2% Alpha Arbutin & Hyaluronic Acid Face Serum ",
          price: 420,
          description: "Fades Tan | Brightens Skin | Controls Melanin Production | with Yuzu Lemon & Licorice | Fragrance-Free | 100% Vegan | 30 ml",
          image: "https://m.media-amazon.com/images/I/41TMQGnzNPL._SX300_SY300_QL70_FMwebp_.jpg",
          category: "beauty"
        },
        {
          id: 6,
          name: "Just Herbs Ayurvedic Creamy Matte",
          price: 201,
          description: "Micro Mini Lipstick Kit Lip Hydrating & Moisturizing, Lipsticks for Women Suitable All Indian Tones (Pack of 16)",
          image: "https://m.media-amazon.com/images/I/5190fG9PqOL._SX522_PIbundle-16,TopRight,0,0_AA522SH20_.jpg",
          category: "beauty"
        },







        
     //men       
            {
                id: 7,
                name: "Lymio Casual Shirt for Men|| Shirt for Men|| Men Stylish Shirt (Rib-Shirt)",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/618Wek95laS._AC_UL320_.jpg",
                category: "fashion"
              
            },
            {
                id: 8,
                name: "Pinkmint Mens Long Sleeve Button Down Shirt for Men ",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/61WswLTIRqL._AC_UL320_.jpg",
                category: "fashion"
              },
              {
                id: 9,
                name: "Urbano Fashion Men's Printed Full Sleeve Slim Fit Cotton T-Shirta",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/718SsROPyeL._AC_UL320_.jpg",
                category: "fashion"
              },
              {
                id: 10,
                name: "LookMark Men's Cotton Blend Printed Stitched Half Sleeve Regular Fit Shirt",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/51zkKVzqlcL._AC_UL320_.jpg",
                category: "fashion"
              },

              {
                id: 11,
                name: "LookMark Men's Regular Fit Shirt",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/81dlbCfUWOL._SX569_.jpg",
                category: "fashion"
              },

              {
                id: 12,
                name: "LEOTUDE Men's Cotton Blend Half Sleeve Dragon Printed Oversized Regular Fit T-Shirts",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/71NXiXvlxwL._SY741_.jpg",
                category: "fashion"
              },
              



//women
              {
                id: 13,
                name: "BIBA  Womens Printed Palazzos",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/91vsgCCmjnL._AC_UL320_.jpg",
                category: "fashion"
              },

              {
                id: 14,
                name: "Adiva Girls Floral Print Anarkali Kurta Sharara with Dupatta Set",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/81m897GiHVL._AC_UL320_.jpg",
                category: "fashion"
              },
              
              {
                id: 15,
                name: "Ellipse FASHION Jacket For Girls Jacket For Womenâ€™s",
                price: 349,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/61xGyu05-bL._AC_UL320_.jpg",
                category: "fashion"
              },
              {
                id: 16,
                name: "Women's Stylish Multi Design Lehenga Choli with Dupatta",
                price: 399,
                description: "Description",
                image: "https://m.media-amazon.com/images/I/71Fcm0fqUCL._AC_UL320_.jpg",
                category: "fashion"
              },
          
          



//tech       
{
    id: 17,
    name: "Archer Tech Lab",
    price: 4599,
    description: "Squall 300 RGB Gaming Laptop Cooling Pad Stand with Aluminium Metal Grid, 5 Turbo Fans Dual USB Ports 7 Adjustable Angles Elevation Bracket & Phone Holder (Supports Upto 17 Laptop)",
    image: "https://m.media-amazon.com/images/I/81Pa0szEx7L._AC_UL320_.jpg",
    category: "tech"
  },
  {
    id: 18,
    name: "Zodo 8. 5 inch LCD E-Writer Electronic Writing Pad/Tablet",
    price: 189,
    description: "Description 3",
    image: "https://m.media-amazon.com/images/I/61Pg1H7U15L._SX522_.jpg",
    category: "tech"
  },
  {
    id: 19,
    name: "Sigma 30 mm f/1.4 DC DN Contemporary Lens for Sony E-Mount - Black",
    price: 189,
    description: "Description 3",
    image: "https://m.media-amazon.com/images/I/61Om5JM50qL._SX522_.jpg",
    category: "tech"
  },
  {
    id: 20,
    name: "MERCUSYS AC1200 Wireless Dual_Band WiFi Router Mercusys AC10 | 1200 Mbps Wi-Fi Speed",
    price: 189,
    description: "Description 3",
    image: "https://images-eu.ssl-images-amazon.com/images/G/31/img21/Jup/Unrec/Other_BB_9.png",
    category: "tech"
  },
  {
    id: 21,
    name: "boAt Airdopes 141 Bluetooth Truly Wireless in Ear Ear Buds ",
    price: 189,
    description: "Description 3",
    image: "https://m.media-amazon.com/images/I/71oXzCK43NL._AC_UL320_.jpg",
    category: "tech"
  },
  {
    id: 22,
    name: "STRIFF Adjustable Laptop Tabletop Stand Patented Riser",
    price: 189,
    description: "Description 3",
    image: "https://m.media-amazon.com/images/I/71Zf9uUp+GL._AC_UL320_.jpg",
    category: "tech"
  },
  {
    id: 23,
    name: "Handheld Gimbal Stabiliser with 3-Axis Feature and Tripod, Facial Tracking",
    price: 189,
    description: "Description 3",
    image: "https://m.media-amazon.com/images/I/314ouOpcUYL._AC_UL320_.jpg",
    category: "tech"
  },
  {
    id: 24,
    name: "Tensea Mobile Phone Charging Stand, Multi-Functional Storage Holder",
    price: 189,
    description: "Description 3",
    image: "https://m.media-amazon.com/images/I/61jVUB4y7pL._AC_UL320_.jpg",
    category: "tech"
  },









      ]
      




// shop.js

document.addEventListener('DOMContentLoaded', () => {
    const productGrid = document.querySelector('.product-grid');
    const categoryButtons = document.querySelectorAll('.category-btn');
    const searchBar = document.getElementById('searchBar');
    const wishlistIcon = document.querySelector('.wishlist-icon');
    

    const productModal = document.getElementById('productModal');
    const closeModalBtn = productModal.querySelector('.close-btn');
    const modalProductImage = document.getElementById('modalProductImage');
    const modalProductName = document.getElementById('modalProductName');
    const modalProductPrice = document.getElementById('modalProductPrice');
    const modalProductDescription = document.getElementById('modalProductDescription');
    const modalProductColor = document.getElementById('modalProductColor');
    const modalProductQuantity = document.getElementById('modalProductQuantity');
    const modalAddToCartBtn = document.getElementById('modalAddToCartBtn');
    const modalBuyNowBtn = document.getElementById('modalBuyNowBtn');

    // Display Products
    function displayProducts(productsToDisplay) {
        productGrid.innerHTML = '';
        if (productsToDisplay.length === 0) {
            productGrid.innerHTML = '<p>No products found.</p>';
            return;
        }
        productsToDisplay.forEach(product => {
            const productCard = document.createElement('div');
            productCard.classList.add('product-card');

            productCard.innerHTML = `
                <img src="${product.image}" alt="${product.name}" class="product-image">
                <h3 class="product-name">${product.name}</h3>
                <p class="price">Rs ${product.price}</p>
                <button class="add-to-cart-btn" data-id="${product.id}">Add to Cart</button>
                <button class="view-details-btn" data-id="${product.id}">Buy Now</button>
            `;

            productGrid.appendChild(productCard);
        });

        // Attach event listeners to new buttons
        attachProductButtons();
    }

    // Initial Display with all products
    displayProducts(products);

    // Category Filtering
    categoryButtons.forEach(button => {
        button.addEventListener('click', () => {
            categoryButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            const category = button.getAttribute('data-category');
            if (category === 'all') {
                displayProducts(products);
            } else {
                const filteredProducts = products.filter(product => product.category === category);
                displayProducts(filteredProducts);
            }
        });
    });

    // Search Functionality
    searchBar.addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase();
        const filteredProducts = products.filter(product => product.name.toLowerCase().includes(query));
        displayProducts(filteredProducts);
    });

    // Attach Event Listeners to Buttons
    function attachProductButtons() {
        const addToCartButtons = document.querySelectorAll('.add-to-cart-btn');
        const viewDetailsButtons = document.querySelectorAll('.view-details-btn');

        addToCartButtons.forEach(button => {
            button.addEventListener('click', () => {
                const productId = parseInt(button.getAttribute('data-id'));
                addToCart(productId);
            });
        });

        viewDetailsButtons.forEach(button => {
            button.addEventListener('click', () => {
                const productId = parseInt(button.getAttribute('data-id'));
                openProductModal(productId);
            });
        });
    }

   

    // Add to Cart Function
    function addToCart(productId, quantity = 1) {
        const product = products.find(p => p.id === productId);
        if (!product) return;

        let cart = [];
        if (localStorage.getItem('cart')) {
            cart = JSON.parse(localStorage.getItem('cart'));
        }

        const existingProduct = cart.find(item => item.id === productId);
        if (existingProduct) {
            existingProduct.quantity += quantity;
        } else {
            cart.push({ ...product, quantity });
        }
        
        localStorage.setItem('cart', JSON.stringify(cart));
        alert(`${product.name} has been added to your cart.`);
        
        
    }

    // Open Product Modal
    function openProductModal(productId) {
        const product = products.find(p => p.id === productId);
        if (!product) return;

        modalProductImage.src = product.image;
        modalProductName.textContent = product.name;
        modalProductPrice.textContent = `Rs ${product.price}`;
        modalProductDescription.textContent = product.description;
        modalProductColor.value = 'red';
        modalProductQuantity.value = 1;

        productModal.style.display = 'flex';

        // Set current product ID for modal actions
        modalAddToCartBtn.setAttribute('data-id', productId);
        modalBuyNowBtn.setAttribute('data-id', productId);
    }

    // Close Product Modal
    closeModalBtn.addEventListener('click', () => {
        productModal.style.display = 'none';
    });

    // Add to Cart from Modal
    modalAddToCartBtn.addEventListener('click', () => {
        const productId = parseInt(modalAddToCartBtn.getAttribute('data-id'));
        const quantity = parseInt(modalProductQuantity.value);
        addToCart(productId, quantity);
        productModal.style.display = 'none';
    });

    // Buy Now from Modal
    modalBuyNowBtn.addEventListener('click', () => {
        const productId = parseInt(modalBuyNowBtn.getAttribute('data-id'));
        const quantity = parseInt(modalProductQuantity.value);
        addToCart(productId, quantity);
        productModal.style.display = 'none';
        window.location.href = 'cart.html';
    });

    // Close Modals on Outside Click
    window.addEventListener('click', (e) => {
        if (e.target === productModal) {
            productModal.style.display = 'none';
        }
    });
});
